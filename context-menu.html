<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, minimal-ui">
    <title>Context menu option in Egnyte Connect UI</title>
    <link type="text/css" rel="stylesheet" href="assets/css/github-markdown.css">
    <link type="text/css" rel="stylesheet" href="assets/css/pilcrow.css">
    <link type="text/css" rel="stylesheet" href="assets/css/hljs-github.min.css" />
    <link type="text/css" rel="stylesheet" href="assets/css/main.css" />
</head>

<body data-title="Context menu option in Egnyte Connect UI">
    <div class="wrapper">
        <div class="egnyte-branding">
            <div class="nav">

            </div>
        </div>
        <div class="nav">
            <a href="index.html" class="back-to-main">&#11188; Back to Table of Contents</a>
        </div>
        <article class="markdown-body"><h1 id="context-menu-option-in-egnyte-connect-ui"><a class="header-link" href="#context-menu-option-in-egnyte-connect-ui"></a>Context menu option in Egnyte Connect UI</h1>
<h2 id="introduction"><a class="header-link" href="#introduction"></a>Introduction</h2>
<p>Your product can be instantly accessible to Egnyte customers through a UI integration, which puts your options in the context menu for files and folders.</p>
<p class="img-container"><img src="./assets/context-menu.png" alt="Screenshot of a context menu"></p>
<p>This is how some of our existing partners provide preview and manipulation functionality for specific file types.</p>
<h3 id="use-this-recipe-if-you:"><a class="header-link" href="#use-this-recipe-if-you:"></a>Use this recipe if you:</h3>
<ul class="list">
<li>want have your functionality available in Egnyte UI context menus.</li>
<li>want to handle one or many files or folders and perform a simple action on them based on user input</li>
<li>want to show screens and interact with the user who chose to use your option</li>
</ul>
<h2 id="ingredients"><a class="header-link" href="#ingredients"></a>Ingredients</h2>
<ul class="list">
<li>Two tablespoons of understanding: <a href="./definitions.html">Egnyte-specific terms</a></li>
<li><a href="./ui-framework.html">UI Integration Framework</a></li>
<li>Development environment with access to App Definition form (ask your partner account manager)</li>
<li>App Definition for your app</li>
</ul>
<h2 id="steps"><a class="header-link" href="#steps"></a>Steps</h2>
<p>As you see, there&#39;s no Auth mentioned in ingredients. That&#39;s because Egnyte is going to send API access tokens in invocations.</p>
<p>It&#39;s important for UI Integrations to keep this token a secret (not expose it to the browser by passing it in URLs, cookies or localStorage).</p>
<ol class="list">
<li>Go to your development sandbox domain, open <em>Apps &amp; Integrations</em>, click to &quot;Manage my app definition&quot; and switch type to Egnyte UI Integration</li>
<li>Fill it in according to App Definition docs. Focus on configuring endpoint URLs you want to implement. You need to provide the <code>integrations</code> field as JSON.</li>
<li>Go back to <em>Apps &amp; Integrations</em>, find your app on the listing and <strong>enable</strong>, then switch from admin mode to user mode and <strong>add</strong> it for your current user.</li>
<li>Read about UI Invocation and implement first two steps - the POST endpoint and the <code>browserFacingUrl</code> handler</li>
<li>Run it from the context menu of your sandbox domain for testing.</li>
<li>If you don&#39;t have any reason to do otherwise, follow the <a href="https://github.com/egnyte/for-integrators/blob/master/doc/UIntegrate_flow.md#suggested-steps-to-ensure-invocation-is-securely-handled">Suggested steps to ensure invocation is securely handled</a> to pin the invocation input to user session as step 3. <strong>Important: make sure the url you send back to Egnyte can&#39;t be used by someone else</strong>. If you don&#39;t want to use the suggested steps or you&#39;re having trouble following the diagram, <a href="./contact.html">get in touch</a></li>
<li>Build your functionality using the token passed in invocation to fetch files and save changes.</li>
<li>Bake your integration and send it for certification.</li>
</ol>
        </article>
        <div class="nav">
            <a href="index.html" class="back-to-main">&#11188; Back to Table of Contents</a>
            <a href="#top"> &#11192; Back to top</a>
        </div>
    </div>
    <script src="assets/js/test.js"></script>
</body>

</html>
